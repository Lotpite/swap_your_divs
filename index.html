<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Swap your divs</title>
        <style>
          .custom {
              height: 100px;
              display: flex;
              justify-content: center;
              align-items: center;
              text-align: center;
              cursor: pointer;
          }
      </style>
    </head>
    <body>
        <script>
            const container = document.body;

            function createSwapDivs(quantity) {
                const divs = [];

                for (let i = 0; i < quantity; i++) {
                    const div = document.createElement('div');
                    div.textContent = `Div ${i + 1}`;
                    div.classList.add('custom')
                    let clicked = false;
                    const base_idx = i; 
                    divs.push(div);
                    container.appendChild(div);

                    div.addEventListener('click', (e) => {
                        const current_idx = divs.indexOf(div)
                        console.log(current_idx)
                        if (clicked === false) {
                            divs.splice(current_idx, 1)
                            divs.unshift(div) 
                            clicked = true;
                        } else {
                            divs.splice(current_idx, 1)
                            divs.splice(base_idx, 0, div)
                            clicked = false;
                        }

                        container.innerHTML = '';
                        divs.forEach(div => container.appendChild(div));
                    });
                }
            }

            createSwapDivs(100)
        </script>
    </body>
</html>
